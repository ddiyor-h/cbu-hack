================================================================================
FEATURE ENGINEERING REPORT
================================================================================

DATASET INFORMATION:
- Original features: 108
- Final features: 180
- New features created: 72
- Training samples: 72000
- Test samples: 17999

FEATURE ENGINEERING STEPS:
1. Loading training and test data...
2. Train shape: (72000, 108), Test shape: (17999, 108)
3. Target loaded: 72000 samples, 3676 defaults (5.11%)
4. Loading analysis results...
5. Identified 17 high-skew features
6. Identified 44 sparse features (>50% zeros)
7. Top predictors: ['credit_score', 'income_vs_regional', 'monthly_income', 'annual_income', 'age']
8. Creating interaction features...
9. Created 19 interaction features
10. Creating polynomial features for top predictors...
11. Created polynomial features for 5 top predictors
12. Creating binned features...
13. Created binned versions of 10 features
14. Creating sparse feature indicators...
15. Created indicators for 20 sparse features
16. Creating domain-specific features...
17. Created domain-specific credit risk features
18. Creating additional ratio features...
19. Created additional ratio features
20. Creating aggregation features...
21. Created aggregation features across feature groups
22. Removing low-value features...
23. Removed 6 low-value features
24. Validating engineered features...
25. Final shape - Train: (72000, 180), Test: (17999, 180)
26. New features created: 72
27. Saving engineered features...
28. Saved train to: /home/dr/cbu/X_train_engineered.parquet
29. Saved test to: /home/dr/cbu/X_test_engineered.parquet

NEW FEATURE CATEGORIES:
- Interaction features: 19
- Polynomial features: 17
- Binned features: 10
- Sparse indicators: 18
- Ratio features: 4
- Domain-specific features: 11
- Aggregation features: 5

TOP NEW FEATURES BY TARGET CORRELATION:
- debt_service_ratio_X_payment_to_income_ratio: 0.2253
- debt_service_ratio_X_payment_burden: 0.2253
- payment_to_income_ratio_X_total_debt_to_income: 0.2052
- credit_score_log: 0.1984
- credit_score_sqrt: 0.1959
- credit_score_squared: 0.1882
- annual_income_log: 0.1715
- monthly_income_log: 0.1715
- credit_score_div_annual_income: 0.1614
- age_log: 0.1592

RECOMMENDATIONS:
1. Train XGBoost/LightGBM with the engineered features
2. Use feature importance to identify most valuable new features
3. Consider ensemble methods combining multiple models
4. Fine-tune hyperparameters with focus on:
   - scale_pos_weight for class imbalance
   - max_depth and min_child_weight for overfitting control
   - learning_rate and n_estimators for convergence
5. Validate with stratified k-fold cross-validation

EXPECTED IMPROVEMENTS:
- Baseline AUC: 0.7889
- Expected AUC with new features: 0.80-0.82
- Key improvements from:
  * Interaction features capturing non-linear relationships
  * Domain-specific risk scores
  * Better handling of sparse features
  * Polynomial transformations of top predictors